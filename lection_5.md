# РАБОТА С ПАМЯТЬЮ
Процессы - явл. исполнителем какой-то программы в системе, один или больше потоков
-независимое адресное пространство
-объекты ядра (файловые дескрипторы, объекты синхронизации и т.д.)

Потоки
- набор команд
- стек

# Виртуальное адресное пространство
1. у каждого процесса "своя" память 
2. иллюзия доступности всех ресурсов
3. осуществляется мапинг на физ. память
4. Page Table
5. Segments
6. OC также реализует данную логику

# Page Table
- Маппинг виртуального адреса на физический
- Изоляция процессов
- Memory-mapped file
- Обеспечение безопасного режима работы ОС
- swapping

# Segments
1. Stack
2. Heap
3. Memory Mapping
4. BSS
5. Data
6. Text

--Stack(Стек вызова)

int add(int a,int b){
    return a + b;
}

int main(){
    int result;
    result = add(40,2);
    return 0;
}

# Стек вызова 
1. StackFrame
  arguments
  local variable
  return point
2. 
3. Регистры процессора
  esp/rsp(верхушка стека)
  ebp/rbp(начало кадра)
  eax(результат)

## Heap
1. В отличии от стека позволяет создавать динамические структуры большого размера
2. Управление жизнью объектов в куче "ручное"

Функции работы с памятью
malloc - выделяет блок памяти, если может
calloc - выделяет блок памяти и инициализирует его нулями
realloc - изменяет размер уже выделенного блока памяти
free - очищает блок памяти

## new\delete
https://learn.microsoft.com/ru-ru/cpp/cpp/new-and-delete-operators?view=msvc-170


## Segmentation fault
1. Обращение к несуществующему адресу
2. Обращение к сегменту, прав для которого нет
3. Попытка поменять только в read-only сегменте